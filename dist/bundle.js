!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ajax=t():e.ajax=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";var n=r(1);e.exports=function(){var e={urlencoded:"application/x-www-form-urlencoded",form:"multipart/form-data",json:"application/json"},t=function(e){return new Promise(function(t,r){e=a(e);var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");n.open(e.method,e.url),n.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var o in e.headers){var u=e.headers[o];n.setRequestHeader(o,u)}n.upload.addEventListener("progress",function(e){var t=parseInt(e.loaded/e.total*100);console.log(t,e.loaded,e.total)},!1),n.addEventListener("progress",function(e){var t=parseInt(e.loaded/e.total*100);console.log(t,e.loaded,e.total)},!1),n.onreadystatechange=function(){if(4===n.readyState){var e=n.response;try{e=JSON.parse(e)}catch(e){}200===n.status?t(e):r(e)}},n.send(e.data)})},r=function(r){r=a(r);var n=i(r.data,e.urlencoded);return r.url=/\?/.test(r.url)?r.url+"&"+n:r.url+"?"+n,t({url:r.url,method:"GET",headers:r.headers})},o=function(e){e=a(e);var r=u(e),n=i(e.data,r);return r!==ajax.contentType.form&&(e.headers["content-type"]=r),t({url:e.url,method:"POST",data:n,headers:e.headers})},a=function(e){if(!e.url||"string"!=typeof e.url)throw new Error("Url is missing");if(e.method=e.method||"GET",e.headers=e.headers||{},e.progress&&"function"!=typeof e.progress)throw new Error("`progress` must be a function or null");return e.progress=e.progress||function(){},e},u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||e.urlencoded},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments[1]){case e.urlencoded:return n.urlEncode(t);case e.json:return n.jsonEncode(t);case e.form:return n.formEncode(t);default:return t}};return{contentType:e,request:t,get:r,post:o}}()},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();e.exports=function(){function e(){n(this,e)}return a(e,null,[{key:"urlEncode",value:function(e){var t=[];return"object"===(void 0===e?"undefined":o(e))&&Object.keys(e).forEach(function(r){var n=e[r];t.push(r+"="+n)}),t.join("&")}},{key:"jsonEncode",value:function(e){return JSON.stringify(e)}},{key:"formEncode",value:function(t){if(e.isFormData(t))return t;if(t instanceof HTMLElement&&"FORM"===t.tagName)return new FormData(t);if(t instanceof Object){var r=new FormData;for(var n in t){var o=t[n];r.append(n,o)}return r}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isFormData",value:function(e){return e instanceof FormData}}]),e}()}])});